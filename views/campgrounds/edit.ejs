<% layout("layouts/boilerplate.ejs") %>

<div class="row">
	<div class="col-md-6 mx-auto">
		<h1 class="text-center">Edit Campground</h1>
		<form
			action="/campground/<%= campground._id %>?_method=PATCH"
			method="POST"
			novalidate
			class="validated-form"
			enctype="multipart/form-data"
		>
			<div class="form-group mb-3">
				<label for="title">Title </label>
				<input
					type="text"
					class="form-control"
					id="title"
					name="campground[title]"
					value="<%= campground.title %>"
					required
				/>
			</div>
			<div class="form-group mb-3">
				<label for="description">Description</label>
				<input
					type="text"
					class="form-control"
					id="description"
					name="campground[description]"
					value="<%= campground.description%>"
					required
				/>
			</div>
			<div class="form-group mb-3">
				<label for="price">Price</label>
				<input
					type="number"
					class="form-control"
					id="price"
					name="campground[price]"
					value="<%= campground.price %>"
					required
				/>
			</div>

			<div class="input-group mb-3">
                <input type="file" class="form-control" id="image" name="image" multiple>
                <label class="input-group-text" for="image">Add more image(s)...</label>
            </div>

			<div class="mb-3">
				<% campground.img.forEach(function(img, i){ %>
				<img src="<%= img.url %>" alt="nope" class="img-thumbnail">
				<div class="form-check-inline">
					<input type="checkbox" id="image-<%=i%>" name="deleteImages[]" value="<%=img.filename%>">
				</div>
				<label for="image-<%=i%>">Delete?????</label>
				<% }) %> 
			</div>
	
			<button type="submit" class="btn btn-secondary">
				Save Changes
			</button>
		</form>
	</div>
</div>
